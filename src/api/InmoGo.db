create table inquilino
(
    inquilinoID int auto_increment
        primary key,
    dni         int         not null,
    nombre      varchar(40) not null,
    apellido    varchar(40) not null,
    direccion   varchar(50) not null,
    telefono    int         not null
);

create table propietarios
(
    id       int auto_increment
        primary key,
    dni      int          not null,
    apellido varchar(40)  not null,
    nombre   varchar(40)  not null,
    telefono int          not null,
    mail     varchar(320) null,
    password varchar(10)  not null
)
    auto_increment = 2;

create table inmueble
(
    inmuebleID  int auto_increment
        primary key,
    direccion   varchar(50) not null,
    ambientes   int         not null,
    tipo        varchar(15) not null,
    uso         varchar(15) not null,
    precio      double      not null,
    disponible  tinyint(1)  not null,
    propietario int         not null,
    constraint inmueble_ibfk_1
        foreign key (propietario) references propietarios (id)
)
    auto_increment = 2;

create table alquiler
(
    alquilerID   int auto_increment
        primary key,
    precio       double   not null,
    fecha_inicio datetime not null,
    fecha_fin    datetime not null,
    inquilino    int      not null,
    inmueble     int      not null,
    constraint alquiler_inmueble_inmuebleID_fk
        foreign key (inmueble) references inmueble (inmuebleID),
    constraint alquiler_inquilino_inquilinoID_fk
        foreign key (inquilino) references inquilino (inquilinoID)
);

create index propietario
    on inmueble (propietario);

create table pagos
(
    pagoID      int auto_increment
        primary key,
    numero_pago int      not null,
    alquiler    int      not null,
    fecha       datetime not null,
    importe     double   not null,
    constraint pagos_alquiler_alquilerID_fk
        foreign key (alquiler) references alquiler (alquilerID)
);
